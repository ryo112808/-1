:root{
  --bg:#ffffff;
  --card:#ffffff;
  --card2:#f6f7fb;
  --tx:#101114;
  --mut:#5b6170;
  --line:#e6e8ef;

  --pri:#111318;
  --priTx:#ffffff;

  --danger:#d92d20;

  --r16:16px;
  --r12:12px;
  --pad:14px;
  --shadow:0 12px 26px rgba(18, 25, 40, .10);

  font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans JP",sans-serif;
  color-scheme: light;
}
html[data-theme="dark"]{
  --bg:#0f1116;
  --card:#171a22;
  --card2:#111420;
  --tx:#f2f4f8;
  --mut:#9aa3b2;
  --line:#2a3142;

  --pri:#f2f4f8;
  --priTx:#0f1116;

  --shadow:0 16px 36px rgba(0,0,0,.35);
  color-scheme: dark;
}

*{ box-sizing:border-box; }
body{ margin:0; background:var(--bg); color:var(--tx); }

.topbar{
  position:sticky; top:0; z-index:10;
  padding:12px 14px;
  background:rgba(255,255,255,.92);
  backdrop-filter:saturate(180%) blur(14px);
  border-bottom:1px solid var(--line);
  display:flex; justify-content:space-between; gap:10px; align-items:center;
}
html[data-theme="dark"] .topbar{ background:rgba(15,17,22,.88); }

.brand-title{ font-weight:900; letter-spacing:.5px; font-size:20px; }
.brand-sub{ margin-top:2px; color:var(--mut); font-size:12px; }
.top-actions{ display:flex; gap:8px; }

.container{ padding:14px; display:flex; flex-direction:column; gap:12px; }

.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--r16);
  padding:var(--pad);
  box-shadow:var(--shadow);
}
.hero-row{ display:flex; gap:12px; align-items:center; justify-content:space-between; }
.hero-title{ font-weight:900; font-size:18px; }
.hero-sub{ color:var(--mut); font-size:13px; margin-top:6px; }

.row{ display:flex; gap:10px; align-items:center; }
.row > *{ flex:1; }

.input,.textarea,.select{
  width:100%;
  border-radius:var(--r12);
  border:1px solid var(--line);
  padding:12px 12px;
  background:var(--card2);
  color:var(--tx);
  font-size:16px;
  outline:none;
}
.textarea{ min-height:96px; resize:vertical; }

.btn{
  border:1px solid transparent;
  border-radius:var(--r12);
  padding:12px 12px;
  font-weight:800;
  font-size:16px;
  background:var(--card2);
  color:var(--tx);
  cursor:pointer;
  white-space:nowrap; /* ←改行防止 */
}
.btn.primary{ background:var(--pri); color:var(--priTx); }
.btn.ghost{ background:transparent; border-color:var(--line); }
.btn.danger{ background:var(--danger); color:#fff; }
.btn.subtle{ background:transparent; border-color:rgba(217,45,32,.35); color:var(--danger); }

.muted{ color:var(--mut); }
.tiny{ font-size:12px; }
.center{ text-align:center; }

.chips{ display:flex; flex-wrap:wrap; gap:8px; margin-top:10px; }
.chip{
  border:1px solid var(--line);
  background:var(--card2);
  border-radius:999px;
  padding:8px 10px;
  font-size:13px;
  color:var(--mut);
}

.view{ display:flex; flex-direction:column; gap:12px; }

.list{ display:flex; flex-direction:column; gap:10px; }
.item{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--r16);
  padding:14px;
  box-shadow:var(--shadow);
}
.item-top{ display:flex; justify-content:space-between; align-items:center; gap:10px; }
.word{ font-weight:900; font-size:20px; }
.badge{ background:var(--card2); border:1px solid var(--line); padding:6px 10px; border-radius:999px; font-size:12px; color:var(--mut); }
.item-ja{ margin-top:8px; color:var(--mut); font-size:14px; }

.flash .row{ margin-top:10px; }
.flash-head{ display:flex; justify-content:space-between; gap:10px; align-items:flex-start; }
.flash-stage{ margin-top:12px; }
.flash-progress{ color:var(--mut); font-size:12px; font-weight:800; }
.flash-word{ font-weight:900; font-size:34px; letter-spacing:.5px; margin:8px 0 10px; }
.flash-answer{
  border:1px solid var(--line);
  background:var(--card2);
  border-radius:var(--r16);
  padding:12px;
  margin:10px 0;
}
.answer-title{ font-weight:900; font-size:13px; color:var(--mut); }
.answer-body{ font-size:18px; font-weight:800; margin-top:6px; }

.grid2{ display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:10px; }
.btn.rate{ background:var(--card2); border:1px solid var(--line); }

.toggle{ display:flex; align-items:center; gap:8px; justify-content:center; }
.toggle input{ width:20px; height:20px; }

.modal{ position:fixed; inset:0; z-index:50; display:block; }
.modal[hidden]{ display:none; demonstrate:none; }
.modal-backdrop{
  position:absolute; inset:0;
  background:rgba(0,0,0,.38);
}
.modal-sheet{
  position:absolute; left:12px; right:12px; bottom:12px;
  background:var(--card);
  border:1px solid var(--line);
  border-radius:20px;
  box-shadow:var(--shadow);
  padding:14px;
  max-height:86vh;
  overflow:auto;
}
.modal-head{ display:flex; justify-content:space-between; align-items:center; gap:10px; margin-bottom:10px; }
.modal-title{ font-weight:900; font-size:16px; }

.tour-card{
  border:1px solid var(--line);
  background:var(--card2);
  border-radius:16px;
  padding:14px;
  min-height:110px;
  font-size:15px;
  line-height:1.6;
}
.tour-dots{ display:flex; justify-content:center; gap:8px; margin:12px 0; }
.dot{ width:8px; height:8px; border-radius:999px; border:1px solid var(--line); background:transparent; }
.dot.on{ background:var(--pri); border-color:var(--pri); }

@media (min-width:900px){
  .container{ max-width:720px; margin:0 auto; }
}
