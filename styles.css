:root{
  --bg:#0f1115; --card:#141823; --card2:#10131b;
  --text:#e9ecf2; --muted:#a9b1c3; --line:#232a3a;
  --pri:#ffffff; --priText:#0f1115;
  --danger:#ff3b30; --ok:#34c759; --warn:#ffcc00;
  --chip:#1a2030;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans JP", sans-serif;
  color-scheme: dark;
}

html,body{margin:0;background:var(--bg);color:var(--text);}
.wrap{max-width:820px;margin:0 auto;padding:14px 14px 120px;}

.topbar{
  position:sticky; top:0; z-index:20;
  background:linear-gradient(180deg, rgba(15,17,21,0.98), rgba(15,17,21,0.85));
  backdrop-filter: blur(10px);
  border-bottom:1px solid rgba(35,42,58,0.7);
  padding:10px 14px 12px;
}

.brand{display:flex;align-items:baseline;justify-content:space-between;gap:10px;}
.brand h1{font-size:20px;margin:0;font-weight:900;letter-spacing:.2px;}
.brand .sub{font-size:12px;color:var(--muted);line-height:1.4;}

.tabs{display:flex;gap:8px;margin-top:10px;}
.tabBtn{
  flex:1; padding:10px 10px; border-radius:14px;
  border:1px solid var(--line); background:var(--card2); color:var(--text);
  font-weight:800;
}
.tabBtn.active{background:var(--pri); color:var(--priText); border-color:transparent;}

.searchBox{display:flex;gap:10px;margin-top:10px;}
input,textarea,select,button{
  font:inherit; border-radius:14px; border:1px solid var(--line);
  background:var(--card2); color:var(--text); padding:12px 12px;
  outline:none;
}
textarea{width:100%;min-height:130px;resize:vertical;}
input::placeholder, textarea::placeholder{color:#78819a;}

button{border:none;background:var(--pri); color:var(--priText); font-weight:900;}
button.secondary{background:var(--card2); color:var(--text); border:1px solid var(--line); font-weight:800;}
button.danger{background:var(--danger); color:#fff; font-weight:900;}
button.ghost{background:transparent; border:1px solid var(--line); color:var(--text); font-weight:800;}
button:disabled{opacity:.55}

.card{
  background:var(--card); border:1px solid var(--line);
  border-radius:18px; padding:12px;
  box-shadow:0 10px 30px rgba(0,0,0,.25);
}
.card + .card{margin-top:10px;}
.innerCard{background:var(--card2); box-shadow:none;}

.section{display:none;}
.section.active{display:block;}

.row{display:flex;gap:10px;align-items:center;flex-wrap:wrap;}
.row > *{flex:1}

.small{font-size:12px;color:var(--muted);line-height:1.5}

.pillRow{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px;}
.pill{
  border:1px solid var(--line); background:var(--chip); color:var(--text);
  padding:8px 10px;border-radius:999px;font-size:13px;
  display:inline-flex; align-items:center; gap:8px;
}
.pill b{font-weight:900}

.kpi{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
.kpi .box{background:var(--card2); border:1px solid var(--line); padding:10px 12px;border-radius:16px; min-width:120px;}
.kpi .box .n{font-weight:900;font-size:18px}
.kpi .box .t{font-size:12px;color:var(--muted)}

.listHead{display:flex;justify-content:space-between;align-items:center;gap:10px;margin:12px 0 10px;}
.listHead .title{font-weight:900}

.filters{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
.filters select,.filters button{flex:0 0 auto}

.wordLine{display:flex;align-items:flex-start;justify-content:space-between;gap:10px;}
.word{font-weight:950;font-size:18px;letter-spacing:.2px;}

.meta{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
.chip{
  font-size:12px; padding:5px 8px; border-radius:999px;
  background:var(--chip); border:1px solid var(--line); color:var(--text);
  display:inline-flex; align-items:center; gap:6px;
}
.chip .dot{width:7px;height:7px;border-radius:999px;background:var(--muted);display:inline-block;}
.chip.ok{border-color:rgba(52,199,89,.5)}
.chip.ok .dot{background:var(--ok)}
.chip.bad{border-color:rgba(255,59,48,.55)}
.chip.bad .dot{background:var(--danger)}
.chip.wait{border-color:rgba(255,204,0,.55)}
.chip.wait .dot{background:var(--warn)}

details{border:1px solid var(--line); border-radius:16px; padding:10px 12px; background:rgba(16,19,27,.6)}
summary{cursor:pointer; font-weight:850}

.two{display:grid;grid-template-columns:1fr 1fr;gap:10px}
@media (max-width:520px){ .two{grid-template-columns:1fr} }

.toast{
  position:fixed; left:12px; right:12px; bottom:14px; z-index:100;
  background:rgba(20,24,35,.95); border:1px solid var(--line);
  border-radius:18px; padding:12px; box-shadow:0 12px 30px rgba(0,0,0,.45);
  display:none;
}
.toast.show{display:block;}
.toast .top{display:flex;justify-content:space-between;gap:10px;align-items:center}
.toast .msg{font-weight:850}
.toast .actions{display:flex;gap:10px}
.toast .actions button{padding:10px 12px;border-radius:14px}

.ruleSheet{
  position:fixed; left:0; right:0; bottom:-100%;
  background:rgba(15,17,21,.98); border-top:1px solid var(--line);
  padding:16px 14px 22px; z-index:120; transition:bottom .22s ease;
  max-height:75vh; overflow:auto;
}
.ruleSheet.show{bottom:0;}

table{width:100%;border-collapse:collapse;margin-top:10px; font-size:13px}
th,td{border:1px solid var(--line);padding:8px 10px;text-align:left}
th{background:rgba(26,32,48,.6)}

.dangerZone{border:1px dashed rgba(255,59,48,.6); background:rgba(255,59,48,.06)}
.holdHint{font-size:12px;color:rgba(255,59,48,.9);font-weight:850}
